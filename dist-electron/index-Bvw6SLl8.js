"use strict";const W=require("./main-CaLDtkrw.js");var L={exports:{}},S,A;function H(){if(A)return S;A=1,S=s;function s(t,a){if(t&&a)return s(t)(a);if(typeof t!="function")throw new TypeError("need wrapper function");return Object.keys(t).forEach(function(n){i[n]=t[n]}),i;function i(){for(var n=new Array(arguments.length),f=0;f<n.length;f++)n[f]=arguments[f];var e=t.apply(this,n),u=n[n.length-1];return typeof e=="function"&&e!==u&&Object.keys(u).forEach(function(c){e[c]=u[c]}),e}}return S}var P;function _(){if(P)return L.exports;P=1;var s=H();L.exports=s(t),L.exports.strict=s(a),t.proto=t(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return t(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return a(this)},configurable:!0})});function t(i){var n=function(){return n.called?n.value:(n.called=!0,n.value=i.apply(this,arguments))};return n.called=!1,n}function a(i){var n=function(){if(n.called)throw new Error(n.onceError);return n.called=!0,n.value=i.apply(this,arguments)},f=i.name||"Function wrapped with `once`";return n.onceError=f+" shouldn't be called more than once",n.called=!1,n}return L.exports}var O,j;function T(){if(j)return O;j=1;var s=_(),t=function(){},a=W.commonjsGlobal.Bare?queueMicrotask:process.nextTick.bind(process),i=function(e){return e.setHeader&&typeof e.abort=="function"},n=function(e){return e.stdio&&Array.isArray(e.stdio)&&e.stdio.length===3},f=function(e,u,c){if(typeof u=="function")return f(e,null,u);u||(u={}),c=s(c||t);var h=e._writableState,q=e._readableState,g=u.readable||u.readable!==!1&&e.readable,r=u.writable||u.writable!==!1&&e.writable,p=!1,l=function(){e.writable||o()},o=function(){r=!1,g||c.call(e)},d=function(){g=!1,r||c.call(e)},y=function(E){c.call(e,E?new Error("exited with error code: "+E):null)},v=function(E){c.call(e,E)},w=function(){a(b)},b=function(){if(!p){if(g&&!(q&&q.ended&&!q.destroyed))return c.call(e,new Error("premature close"));if(r&&!(h&&h.ended&&!h.destroyed))return c.call(e,new Error("premature close"))}},x=function(){e.req.on("finish",o)};return i(e)?(e.on("complete",o),e.on("abort",w),e.req?x():e.on("request",x)):r&&!h&&(e.on("end",l),e.on("close",l)),n(e)&&e.on("exit",y),e.on("end",d),e.on("finish",o),u.error!==!1&&e.on("error",v),e.on("close",w),function(){p=!0,e.removeListener("complete",o),e.removeListener("abort",w),e.removeListener("request",x),e.req&&e.req.removeListener("finish",o),e.removeListener("end",l),e.removeListener("close",l),e.removeListener("finish",o),e.removeListener("exit",y),e.removeListener("end",d),e.removeListener("error",v),e.removeListener("close",w)}};return O=f,O}var R,F;function B(){if(F)return R;F=1;var s=_(),t=T(),a;try{a=require("fs")}catch{}var i=function(){},n=typeof process>"u"?!1:/^v?\.0/.test(process.version),f=function(r){return typeof r=="function"},e=function(r){return!n||!a?!1:(r instanceof(a.ReadStream||i)||r instanceof(a.WriteStream||i))&&f(r.close)},u=function(r){return r.setHeader&&f(r.abort)},c=function(r,p,l,o){o=s(o);var d=!1;r.on("close",function(){d=!0}),t(r,{readable:p,writable:l},function(v){if(v)return o(v);d=!0,o()});var y=!1;return function(v){if(!d&&!y){if(y=!0,e(r))return r.close(i);if(u(r))return r.abort();if(f(r.destroy))return r.destroy();o(v||new Error("stream was destroyed"))}}},h=function(r){r()},q=function(r,p){return r.pipe(p)},g=function(){var r=Array.prototype.slice.call(arguments),p=f(r[r.length-1]||i)&&r.pop()||i;if(Array.isArray(r[0])&&(r=r[0]),r.length<2)throw new Error("pump requires two streams per minimum");var l,o=r.map(function(d,y){var v=y<r.length-1,w=y>0;return c(d,v,w,function(b){l||(l=b),b&&o.forEach(h),!v&&(o.forEach(h),p(l))})});return r.reduce(q)};return R=g,R}exports.requirePump=B;
